<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.css">
</head>
<body>
<div style="padding: 20px" id="app" class="container">
    <div class="panel panel-primary">
        <div class="panel-heading">用户管理</div>
        <table class="table table-bordered table-striped text-center">
            <thead>
                <tr>
                    <th>用户名</th>
                    <th>年龄</th>
                    <th>毕业学校</th>
                    <th>备注</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <template v-for="(row, index) in rows">
                    <tr>
                        <td>{{row.Name}}</td>
                        <td>{{row.Age}}</td>
                        <td>{{row.School}}</td>
                        <td>{{row.Remark}}</td>
                        <td>
                            <a href="javascript:;" @click="edit(row)">编辑</a>
                            <a href="javascript:;" @click="deleteRow(row.Id)">删除</a>
                        </td>
                    </tr>
                </template>
                <tr>
                    <td><input type="text" class="form-control" v-model="rowtemplate.Name"></td>
                    <td><input type="text" class="form-control" v-model="rowtemplate.Age"></td>
                    <td>
                        <select v-model="rowtemplate.School" class="form-control">
                            <option>中山小学</option>
　　　　　　　　　　　　　　　　<option>复兴中学</option>
　　　　　　　　　　　　　　　　<option>光明小学</option>
                        </select>
                    </td>
                    <td><input type="text" class="form-control" v-model="rowtemplate.Remark"></td>
                    <td><button class="btn btn-primary" @click="save()">保存</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="../vue.js"></script>
<script>
    var data = {
        rows: [
            { Id: 1, Name: '小明', Age: 18, School: '光明小学', Remark: '三好学生' },
            { Id: 2, Name: '小刚', Age: 20, School: '复兴中学', Remark: '优秀班干部' },
            { Id: 3, Name: '吉姆格林', Age: 19, School: '光明小学', Remark: '吉姆做了汽车公司经理' },
            { Id: 4, Name: '李雷', Age: 25, School: '复兴中学', Remark: '不老实的家伙' },
            { Id: 5, Name: '韩梅梅', Age: 22, School: '光明小学', Remark: '在一起' }
        ],
        rowtemplate: { Id: 0, Name: '', Age: '', School: '', Remark: '' }
    }

    new Vue({
        el: '#app',
        data: data,
        methods: {
            edit: function(row){
                this.rowtemplate = row;
            },
            deleteRow: function(id){
                this.rows.forEach((item, index) => {
                    if(item.Id === id){
                        this.rows.splice(index, 1)
                    }
                })
            },
            save(){
                if(this.rowtemplate.Id === 0){
                    this.rowtemplate.Id = this.rows.length + 1;
                    this.rows.push(this.rowtemplate);
                }
                this.rowtemplate = { Id: 0, Name: '', Age: '', School: '', Remark: '' }
            }
        }
    })
</script>
</body>
</html>