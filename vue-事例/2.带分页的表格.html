<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.css">
</head>
<body>
<div id="app" class="container">
    <div class="panel panel-primary">
        <div class="panel-heading">用户管理</div>
        <table class="table table-bordered table-striped text-center">
            <thead>
            <tr>
                <th>用户名</th>
                <th>年龄</th>
                <th>毕业学校</th>
                <th>备注</th>
            </tr>
            </thead>
            <tbody>
                <template v-for="(row, index) in rows">
                    <tr v-if="index >= (curpage-1) * pagesize && index < curpage*pagesize">
                        <td>{{row.Name}}</td>
                        <td>{{row.Age}}</td>
                        <td>{{row.School}}</td>
                        <td>{{row.Remark}}</td>
                    </tr>
                </template>
            </tbody>
        </table>
        <nav style="float: right">
            <ul class="pagination pagination-lg">
                <template v-for="(page, index) in Math.ceil(rows.length / pagesize)">
                    <li @click="prePage()" id="prepage" v-if="page == 1" class="disabled"><a href="javascript:;">上一页</a></li>
                    <li v-if="page == 1" class="active" @click="numPage($event, page)"><a href="javascript:;">{{page}}</a></li>
                    <li v-else @click="numPage($event, page)"><a href="javascript:;">{{page}}</a></li>
                    <li id="nextpage" @click="nextPage()" v-if="page==Math.ceil(rows.length / pagesize)"><a href="javascript:;">下一页</a></li>
                </template>
            </ul>
        </nav>
    </div>
</div>
<script src="jquery-3.1.1.js"></script>
<script src="../vue.js"></script>
<script>
    var data = {
        rows: [
            { Id: 1, Name: '小明', Age: 18, School: '光明小学', Remark: '三好学生' },
            { Id: 2, Name: '小刚', Age: 20, School: '复兴中学', Remark: '优秀班干部' },
            { Id: 3, Name: '吉姆格林', Age: 19, School: '光明小学', Remark: '吉姆做了汽车公司经理' },
            { Id: 4, Name: '李雷', Age: 25, School: '复兴中学', Remark: '不老实的家伙' },
            { Id: 5, Name: '韩梅梅', Age: 22, School: '光明小学', Remark: '在一起' },
            { Id: 1, Name: '小明', Age: 18, School: '光明小学', Remark: '三好学生' },
            { Id: 2, Name: '小刚', Age: 20, School: '复兴中学', Remark: '优秀班干部' },
            { Id: 3, Name: '吉姆格林', Age: 19, School: '光明小学', Remark: '吉姆做了汽车公司经理' },
            { Id: 4, Name: '李雷', Age: 25, School: '复兴中学', Remark: '不老实的家伙' },
            { Id: 5, Name: '韩梅梅', Age: 22, School: '光明小学', Remark: '在一起' },
            { Id: 1, Name: '小明', Age: 18, School: '光明小学', Remark: '三好学生' },
            { Id: 2, Name: '小刚', Age: 20, School: '复兴中学', Remark: '优秀班干部' },
            { Id: 3, Name: '吉姆格林', Age: 19, School: '光明小学', Remark: '吉姆做了汽车公司经理' },
            { Id: 4, Name: '李雷', Age: 25, School: '复兴中学', Remark: '不老实的家伙' },
            { Id: 5, Name: '韩梅梅', Age: 22, School: '光明小学', Remark: '在一起' },
            { Id: 1, Name: '小明', Age: 18, School: '光明小学', Remark: '三好学生' },
            { Id: 2, Name: '小刚', Age: 20, School: '复兴中学', Remark: '优秀班干部' },
            { Id: 3, Name: '吉姆格林', Age: 19, School: '光明小学', Remark: '吉姆做了汽车公司经理' },
            { Id: 4, Name: '李雷', Age: 25, School: '复兴中学', Remark: '不老实的家伙' },
            { Id: 5, Name: '韩梅梅', Age: 22, School: '光明小学', Remark: '在一起' }
        ],
        pagesize: 4,
        curpage:1//当前页的页码
    };
    new Vue({
        el: '#app',
        data: data,
        methods: {
            prePage: function(){
                $(".pagination .active").prev().trigger('click')
            },
            nextPage: function(){
                $(".pagination .active").next().trigger('click')
            },
            numPage: function(e, num){
                if(this.curpage == num){
                    return;
                }
                this.curpage = num;
                $('.pagination li').removeClass('active');
                if(e.target.tagName.toUpperCase() === 'LI'){
                    $(e.target).addClass('active')
                }else{
                    $(e.target).parent().addClass('active')
                }

                if(this.curpage == 1){
                    $('#prepage').addClass('disabled')
                }else{
                    $('#prepage').removeClass('disabled')
                }

                if(this.curpage == Math.ceil(this.rows.length / this.pagesize)){
                    $("#nextpage").addClass('disabled')
                }else{
                    $("#nextpage").removeClass('disabled')
                }
            }
        }
    })
</script>
</body>
</html>